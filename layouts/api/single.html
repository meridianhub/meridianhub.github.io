{{ define "main" }}
<div class="api-docs">
  <div class="api-header">
    <p>Interactive API documentation generated from Protocol Buffer definitions.
    <a href="https://pkg.go.dev/github.com/meridianhub/meridian" target="_blank" rel="noopener">View Go documentation on pkg.go.dev</a></p>
  </div>
  <div id="swagger-ui"></div>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css" />
<script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-standalone-preset.js"></script>
<script>
  window.onload = function() {
    window.ui = SwaggerUIBundle({
      url: "/swagger/openapi.json",
      dom_id: '#swagger-ui',
      deepLinking: true,
      presets: [
        SwaggerUIBundle.presets.apis,
        SwaggerUIStandalonePreset
      ],
      plugins: [
        SwaggerUIBundle.plugins.DownloadUrl
      ],
      layout: "StandaloneLayout",
      docExpansion: "list",
      defaultModelsExpandDepth: 0,
      filter: true,
      tryItOutEnabled: false,
      supportedSubmitMethods: []
    });
  };
</script>

<style>
  .api-docs {
    margin: 0 auto;
    max-width: 1400px;
    padding: 0 20px;
  }
  .api-header {
    padding: 20px 0;
    border-bottom: 1px solid var(--border);
    margin-bottom: 20px;
  }
  .api-header p {
    margin: 0;
    color: var(--secondary);
  }
  .api-header a {
    color: var(--accent);
  }
  .swagger-ui .topbar {
    display: none;
  }
  .swagger-ui .info {
    margin: 20px 0;
  }
  .swagger-ui .info .title {
    color: var(--primary);
  }
  .swagger-ui .scheme-container {
    background: var(--entry);
    box-shadow: none;
  }
  .swagger-ui .opblock-tag {
    font-size: 18px;
    border-bottom: 1px solid var(--border);
  }
  .swagger-ui .opblock {
    border-radius: 4px;
    box-shadow: none;
    border: 1px solid var(--border);
  }
  .swagger-ui .opblock .opblock-summary-method {
    min-width: 80px;
    border-radius: 3px;
  }
  .swagger-ui .opblock.opblock-get {
    border-color: #61affe;
    background: rgba(97, 175, 254, 0.1);
  }
  .swagger-ui .opblock.opblock-post {
    border-color: #49cc90;
    background: rgba(73, 204, 144, 0.1);
  }
  .swagger-ui .opblock.opblock-put {
    border-color: #fca130;
    background: rgba(252, 161, 48, 0.1);
  }
  .swagger-ui .opblock.opblock-delete {
    border-color: #f93e3e;
    background: rgba(249, 62, 62, 0.1);
  }
  .swagger-ui .opblock.opblock-patch {
    border-color: #50e3c2;
    background: rgba(80, 227, 194, 0.1);
  }
  .swagger-ui .btn {
    border-radius: 4px;
  }
  .swagger-ui select {
    border-radius: 4px;
  }
  .swagger-ui .model-box {
    background: var(--entry);
  }
  .swagger-ui section.models {
    border: 1px solid var(--border);
    border-radius: 4px;
  }
  .swagger-ui section.models.is-open h4 {
    border-bottom: 1px solid var(--border);
  }
</style>
{{ end }}
